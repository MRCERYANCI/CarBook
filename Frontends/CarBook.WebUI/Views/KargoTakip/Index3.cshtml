@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index3</title>
</head>
<body>
    <div id="map"></div>
    <div id="results"></div>
</body>

<script>

    let latitude, longitude = "";

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(onSuccess, onError);
    } else {
        alert("tarayıcınız konum bilgisini alamıyor...");
    }

    function onSuccess(position) {
        let latitude = position.coords.latitude;
        let longitude = position.coords.longitude;

        const api_key = "30c867d8a8e34fa98bcb0700bcc76098"
        const url = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${api_key}`;

        fetch(url).then(response => response.json()).then(result => console.log(result.results[0]));
    }

    function onError(error) {
        if (error.code == 1) {
            alert("Kullanıcı Erişim İznini Reddetti.")
        } else if (error.code == 2) {
            alert("Konum alanımadı");
        } else {
            alert("Sistemsel Bir Hata Oluştu...");
        }
    }
</script>
</html>
