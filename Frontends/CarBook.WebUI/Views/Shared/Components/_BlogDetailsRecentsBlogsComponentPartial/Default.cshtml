@model List<ResultBlogsWithsAuthorDto>
@{
    CarBook.Persistence.Context.CarBookContext carBookContext = new CarBook.Persistence.Context.CarBookContext();
}

<div class="sidebar-box ftco-animate">
    <h3>Son Bloglar</h3>
    @foreach(var x in Model)
    {
        <div class="block-21 mb-4 d-flex">
            <a href="/Blog/BlogDetail?BlogId=@x.BlogId" class="blog-img mr-4" style="background-image: url(@x.CoverImageUrl);"></a>
            <div class="text">
                <h3 class="heading"><a href="/Blog/BlogDetail?BlogId=@x.BlogId">@x.Title.Substring(0, 50)...</a></h3>
                <div class="meta">
                    <div><a href="/Blog/BlogDetail?BlogId=@x.BlogId"><span class="icon-calendar"></span>@(((DateTime)x.CreatedDate).ToString("MMMM dd")) .@(((DateTime)x.CreatedDate).ToString("yyyy"))</a></div>
                    <div><a href="/Blog/BlogDetail?BlogId=@x.BlogId"><span class="icon-person"></span> @x.Name</a></div>
                    <div><a href="/Blog/BlogDetail?BlogId=@x.BlogId"><span class="icon-chat"></span> @carBookContext.Comments.Count(y => y.BlogId == x.BlogId)</a></div>
                </div>
            </div>
        </div>
    }
</div>